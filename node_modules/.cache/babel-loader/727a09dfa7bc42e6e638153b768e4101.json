{"ast":null,"code":"import { useRef, useCallback, useEffect, useMemo, useDebugValue } from 'react';\nimport { isChanged, createProxy, affectedToPathList } from 'proxy-compare';\nimport useSyncExternalStoreExports from 'use-sync-external-store/shim/index.js';\nimport { subscribe, snapshot } from 'valtio/vanilla';\nexport { getVersion, proxy, ref, snapshot, subscribe, getHandler as unstable_getHandler } from 'valtio/vanilla';\nconst {\n  useSyncExternalStore\n} = useSyncExternalStoreExports;\n\nconst useAffectedDebugValue = (state, affected) => {\n  const pathList = useRef();\n  useEffect(() => {\n    pathList.current = affectedToPathList(state, affected);\n  });\n  useDebugValue(pathList.current);\n};\n\nfunction useSnapshot(proxyObject, options) {\n  const notifyInSync = options == null ? void 0 : options.sync;\n  const lastSnapshot = useRef();\n  const lastAffected = useRef();\n  let inRender = true;\n  const currSnapshot = useSyncExternalStore(useCallback(callback => {\n    const unsub = subscribe(proxyObject, callback, notifyInSync);\n    callback();\n    return unsub;\n  }, [proxyObject, notifyInSync]), () => {\n    const nextSnapshot = snapshot(proxyObject);\n\n    try {\n      if (!inRender && lastSnapshot.current && lastAffected.current && !isChanged(lastSnapshot.current, nextSnapshot, lastAffected.current, /* @__PURE__ */new WeakMap())) {\n        return lastSnapshot.current;\n      }\n    } catch (e) {}\n\n    return nextSnapshot;\n  }, () => snapshot(proxyObject));\n  inRender = false;\n  const currAffected = /* @__PURE__ */new WeakMap();\n  useEffect(() => {\n    lastSnapshot.current = currSnapshot;\n    lastAffected.current = currAffected;\n  });\n\n  if ((import.meta.env && import.meta.env.MODE) !== \"production\") {\n    useAffectedDebugValue(currSnapshot, currAffected);\n  }\n\n  const proxyCache = useMemo(() => /* @__PURE__ */new WeakMap(), []);\n  return createProxy(currSnapshot, currAffected, proxyCache);\n}\n\nexport { useSnapshot };","map":{"version":3,"names":["useRef","useCallback","useEffect","useMemo","useDebugValue","isChanged","createProxy","affectedToPathList","useSyncExternalStoreExports","subscribe","snapshot","getVersion","proxy","ref","getHandler","unstable_getHandler","useSyncExternalStore","useAffectedDebugValue","state","affected","pathList","current","useSnapshot","proxyObject","options","notifyInSync","sync","lastSnapshot","lastAffected","inRender","currSnapshot","callback","unsub","nextSnapshot","WeakMap","e","currAffected","import","meta","env","MODE","proxyCache"],"sources":["/Users/markkrasner/Downloads/MDB5-REACT-UI-KIT-Free-4.0.0/node_modules/valtio/esm/index.js"],"sourcesContent":["import { useRef, useCallback, useEffect, useMemo, useDebugValue } from 'react';\nimport { isChanged, createProxy, affectedToPathList } from 'proxy-compare';\nimport useSyncExternalStoreExports from 'use-sync-external-store/shim/index.js';\nimport { subscribe, snapshot } from 'valtio/vanilla';\nexport { getVersion, proxy, ref, snapshot, subscribe, getHandler as unstable_getHandler } from 'valtio/vanilla';\n\nconst { useSyncExternalStore } = useSyncExternalStoreExports;\nconst useAffectedDebugValue = (state, affected) => {\n  const pathList = useRef();\n  useEffect(() => {\n    pathList.current = affectedToPathList(state, affected);\n  });\n  useDebugValue(pathList.current);\n};\nfunction useSnapshot(proxyObject, options) {\n  const notifyInSync = options == null ? void 0 : options.sync;\n  const lastSnapshot = useRef();\n  const lastAffected = useRef();\n  let inRender = true;\n  const currSnapshot = useSyncExternalStore(useCallback((callback) => {\n    const unsub = subscribe(proxyObject, callback, notifyInSync);\n    callback();\n    return unsub;\n  }, [proxyObject, notifyInSync]), () => {\n    const nextSnapshot = snapshot(proxyObject);\n    try {\n      if (!inRender && lastSnapshot.current && lastAffected.current && !isChanged(lastSnapshot.current, nextSnapshot, lastAffected.current, /* @__PURE__ */ new WeakMap())) {\n        return lastSnapshot.current;\n      }\n    } catch (e) {\n    }\n    return nextSnapshot;\n  }, () => snapshot(proxyObject));\n  inRender = false;\n  const currAffected = /* @__PURE__ */ new WeakMap();\n  useEffect(() => {\n    lastSnapshot.current = currSnapshot;\n    lastAffected.current = currAffected;\n  });\n  if ((import.meta.env && import.meta.env.MODE) !== \"production\") {\n    useAffectedDebugValue(currSnapshot, currAffected);\n  }\n  const proxyCache = useMemo(() => /* @__PURE__ */ new WeakMap(), []);\n  return createProxy(currSnapshot, currAffected, proxyCache);\n}\n\nexport { useSnapshot };\n"],"mappings":"AAAA,SAASA,MAAT,EAAiBC,WAAjB,EAA8BC,SAA9B,EAAyCC,OAAzC,EAAkDC,aAAlD,QAAuE,OAAvE;AACA,SAASC,SAAT,EAAoBC,WAApB,EAAiCC,kBAAjC,QAA2D,eAA3D;AACA,OAAOC,2BAAP,MAAwC,uCAAxC;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,gBAApC;AACA,SAASC,UAAT,EAAqBC,KAArB,EAA4BC,GAA5B,EAAiCH,QAAjC,EAA2CD,SAA3C,EAAsDK,UAAU,IAAIC,mBAApE,QAA+F,gBAA/F;AAEA,MAAM;EAAEC;AAAF,IAA2BR,2BAAjC;;AACA,MAAMS,qBAAqB,GAAG,CAACC,KAAD,EAAQC,QAAR,KAAqB;EACjD,MAAMC,QAAQ,GAAGpB,MAAM,EAAvB;EACAE,SAAS,CAAC,MAAM;IACdkB,QAAQ,CAACC,OAAT,GAAmBd,kBAAkB,CAACW,KAAD,EAAQC,QAAR,CAArC;EACD,CAFQ,CAAT;EAGAf,aAAa,CAACgB,QAAQ,CAACC,OAAV,CAAb;AACD,CAND;;AAOA,SAASC,WAAT,CAAqBC,WAArB,EAAkCC,OAAlC,EAA2C;EACzC,MAAMC,YAAY,GAAGD,OAAO,IAAI,IAAX,GAAkB,KAAK,CAAvB,GAA2BA,OAAO,CAACE,IAAxD;EACA,MAAMC,YAAY,GAAG3B,MAAM,EAA3B;EACA,MAAM4B,YAAY,GAAG5B,MAAM,EAA3B;EACA,IAAI6B,QAAQ,GAAG,IAAf;EACA,MAAMC,YAAY,GAAGd,oBAAoB,CAACf,WAAW,CAAE8B,QAAD,IAAc;IAClE,MAAMC,KAAK,GAAGvB,SAAS,CAACc,WAAD,EAAcQ,QAAd,EAAwBN,YAAxB,CAAvB;IACAM,QAAQ;IACR,OAAOC,KAAP;EACD,CAJoD,EAIlD,CAACT,WAAD,EAAcE,YAAd,CAJkD,CAAZ,EAIR,MAAM;IACrC,MAAMQ,YAAY,GAAGvB,QAAQ,CAACa,WAAD,CAA7B;;IACA,IAAI;MACF,IAAI,CAACM,QAAD,IAAaF,YAAY,CAACN,OAA1B,IAAqCO,YAAY,CAACP,OAAlD,IAA6D,CAAChB,SAAS,CAACsB,YAAY,CAACN,OAAd,EAAuBY,YAAvB,EAAqCL,YAAY,CAACP,OAAlD,EAA2D,eAAgB,IAAIa,OAAJ,EAA3E,CAA3E,EAAsK;QACpK,OAAOP,YAAY,CAACN,OAApB;MACD;IACF,CAJD,CAIE,OAAOc,CAAP,EAAU,CACX;;IACD,OAAOF,YAAP;EACD,CAbwC,EAatC,MAAMvB,QAAQ,CAACa,WAAD,CAbwB,CAAzC;EAcAM,QAAQ,GAAG,KAAX;EACA,MAAMO,YAAY,GAAG,eAAgB,IAAIF,OAAJ,EAArC;EACAhC,SAAS,CAAC,MAAM;IACdyB,YAAY,CAACN,OAAb,GAAuBS,YAAvB;IACAF,YAAY,CAACP,OAAb,GAAuBe,YAAvB;EACD,CAHQ,CAAT;;EAIA,IAAI,CAACC,MAAM,CAACC,IAAP,CAAYC,GAAZ,IAAmBF,MAAM,CAACC,IAAP,CAAYC,GAAZ,CAAgBC,IAApC,MAA8C,YAAlD,EAAgE;IAC9DvB,qBAAqB,CAACa,YAAD,EAAeM,YAAf,CAArB;EACD;;EACD,MAAMK,UAAU,GAAGtC,OAAO,CAAC,MAAM,eAAgB,IAAI+B,OAAJ,EAAvB,EAAsC,EAAtC,CAA1B;EACA,OAAO5B,WAAW,CAACwB,YAAD,EAAeM,YAAf,EAA6BK,UAA7B,CAAlB;AACD;;AAED,SAASnB,WAAT"},"metadata":{},"sourceType":"module"}